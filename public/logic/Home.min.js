// @ts-nocheck
document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".product").forEach((t=>{t.addEventListener("click",(()=>{const e=t.dataset.id;if(!e)return;const n=/^drink-/i.test(e)?"drsi.html":"dsri.html";window.location.href=`${n}?id=${encodeURIComponent(e)}`}))})),document.querySelectorAll(".product .buy-pill").forEach((t=>{t.addEventListener("click",(function(e){e.stopPropagation();const n=t.closest(".product");if(!n)return;const i=n.dataset.id||n.querySelector(".title")?.textContent?.trim()||"",o=n.querySelector(".title")?.textContent?.trim()||"",r=n.querySelector("img")?.getAttribute("src")||"",l=n.querySelector(".price-row")?.textContent||"",s=Number((l||"").replace(/[^\d]/g,""))||0,a=function(){try{return JSON.parse(localStorage.getItem("cart")||"[]")}catch(t){return[]}}(),c=a.find((t=>t.id===i&&(!t.addons||0===t.addons.length)));var d;c?(c.qty=Number(c.qty||1)+1,c.subtotal=Number(c.subtotal||0)+s):a.push({id:i,title:o,image:r,qty:1,addons:[],unitPrice:s,subtotal:s}),d=a,localStorage.setItem("cart",JSON.stringify(d||[])),function(t="ðŸ›ï¸",e=null){let n=document.querySelector(".mini-toast");if(n||(n=document.createElement("div"),n.className="mini-toast",n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),document.body.appendChild(n)),n.textContent=t,e&&e.getBoundingClientRect){const t=e.getBoundingClientRect();n.style.position="fixed",n.style.left=t.left+t.width/2+"px",n.style.top=t.top-36+"px",n.style.transform="translateX(-50%)"}else n.style.position="fixed",n.style.left="50%",n.style.bottom="72px",n.style.transform="translateX(-50%)",n.style.top="";n.style.opacity="1",n.style.pointerEvents="none",n._hideTimeout&&clearTimeout(n._hideTimeout),n._hideTimeout=setTimeout((()=>{n.style.opacity="0",n._hideTimeout2=setTimeout((()=>{n&&n.parentNode&&(n.style.left="",n.style.top="",n.style.bottom="")}),220)}),900)}("Added to bag ðŸ›ï¸",t)}))}));const t=document.querySelector(".visit .grid"),e="verent_booths_v1";if(t){const r=[{title:"IPEKA Puri",small:"20 â€” 24 Oct | 8 AM â€” 6 PM",link:""},{title:"Emporium Pluit Mall",small:"22 Oct â€” 2 Nov | 10 AM â€” 10 PM",link:""},{title:"Big Bad Wolf, PIK",small:"Date / time",link:""},{title:"UPH",small:"Date / time",link:""}],l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function n(t){if(!t)return"";const[e,n,i]=t.split("-");return e&&n&&i?`${parseInt(i,10)} ${l[parseInt(n,10)-1]}`:t}function i(t){return t||""}function o(){const o=function(){try{const t=localStorage.getItem(e);if(!t)return r;const n=JSON.parse(t);return Array.isArray(n)&&n.length?n:r}catch(t){return console.warn("Failed to read booths from storage",t),r}}();t.innerHTML="",o.slice(0,4).forEach((e=>{const o=document.createElement("div");o.className="chip",o.innerHTML=`\n          <div class="chip-title">${e.title||""}</div>\n          <div class="small">${function(t){if(t.startDate||t.endDate||t.startTime||t.endTime){const e=n(t.startDate),o=n(t.endDate),r=i(t.startTime),l=i(t.endTime);let s="";e&&o?s=`${e} â€” ${o}`:e?s=e:o&&(s=o);let a="";if(r&&l?a=`${r} â€” ${l}`:r?a=r:l&&(a=l),s&&a)return`${s} | ${a}`;if(s)return s;if(a)return a}return t.small||""}(e)}</div>\n        `;const r=(e.link||"").trim();if(r){o.style.cursor="pointer",o.setAttribute("role","button"),o.setAttribute("tabindex","0");const t=()=>{let t=r;/^https?:\/\//i.test(t)||(t="https://"+t),window.open(t,"_blank")};o.addEventListener("click",t),o.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t())}))}t.appendChild(o)}))}o(),window.addEventListener("storage",(t=>{t.key===e&&o()}))}}));