<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bag — Verent</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Rasa:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="bagfr.css">
</head>
<body>
  <div class="app">
    <header class="appbar" role="banner">
      <div class="appbar-inner">
        <div class="left-slot"></div>
        <div class="brand-center">
          <img src="logos/lg3.png" alt="Lumière logo" class="logo by-logo" />
        </div>
        <button type="button" class="icon-bell" aria-label="Notifications">
          <img src="acs/lcng.png" alt="Bell">
        </button>
      </div>
    </header>

    <main class="container" role="main">
      <div class="page-head">
        <h1 class="page-title">Bag</h1>
        <button type="button" class="btn btn-primary checkout">Checkout</button>
      </div>

      <section class="cart-list" id="bag-items">
        <div class="empty-bag" style="display:none">
            <img src="acs/bag1.png" style="width:120px;opacity:0.6">
            <p style="text-align:center;color:#999">Memuat keranjang...</p>
        </div>
      </section>

      <aside class="help-card">
        <div class="help-left">
          <strong>Still have questions?</strong>
          <p>Tap the WhatsApp icon to connect with us personally</p>
        </div>
        <a class="whatsapp" href="https://wa.me/628118281416" target="_blank">
          <img src="acs/wa.png" alt="WhatsApp">
        </a>
      </aside>

      <section class="gift-card">
        <div class="gift-left">
          <h3 class="gift-title">This order is a gift?</h3>
          <p class="gift-desc">We'll wrap it with love — includes a free gift message.</p>
        </div>
        <div class="gift-right">
          <button type="button" class="gift-toggle" aria-pressed="false"></button>
        </div>
      </section>

      <section class="summary-card">
        <div class="summary-row">
          <div class="summary-label">Subtotal</div>
          <div class="summary-value" id="bag-total">Rp 0</div>
        </div>
        <div class="summary-note">
          Shipping fee will be calculated at checkout.
        </div>
      </section>

      <section class="liked">
        <h3>Liked by you</h3>
        <div class="liked-row" id="liked-row"></div>
      </section>
    </main>

    <nav class="bottom-nav">
      <a href="order.html" class="nav-btn"><img src="acs/order.png"><span>Orders</span></a>
      <a href="bagfr.html" class="nav-btn active"><img src="acs/Bag.png"><span>Bag</span></a>
      <a href="home.html" class="nav-btn"><img src="acs/home.png"><span>Home</span></a>
      <a href="cari.html" class="nav-btn"><img src="acs/src.png"><span>Search</span></a>
      <a href="prl.html" class="nav-btn"><img src="acs/prf.png"><span>Profile</span></a>
    </nav>
  </div>

  <script type="module">
    import { createClient } from 'https://esm.sh/@supabase/supabase-js@2';
    const supabaseUrl = 'https://ebbdaxprudznktnfvcbo.supabase.co';
    const supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImViYmRheHBydWR6bmt0bmZ2Y2JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NzI0NDQsImV4cCI6MjA4MDE0ODQ0NH0.U0AhNyTzU5nht8iMk7cYs2nSwApY1IssN4oMW1EChZg';
  
    if (!window.supabase) {
      window.supabase = createClient(supabaseUrl, supabaseAnonKey);
    }
  
    async function initBag() {
        console.log("Sync session...");
        await window.supabase.auth.getSession();
        
        if (typeof window.renderLikedCards === 'function') {
            window.renderLikedCards();
        } else {
            setTimeout(() => { if(window.renderLikedCards) window.renderLikedCards(); }, 1000);
        }
    }
    initBag();
  </script>

  <script src="bagfr.js"></script>
</body>
</html>