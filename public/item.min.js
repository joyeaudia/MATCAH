// @ts-nocheck
!async function(){"use strict";const t=t=>document.querySelector(t),e=t=>"Rp "+new Intl.NumberFormat("id-ID").format(Number(t)||0),o=t=>Number(String(t).replace(/[^\d]/g,""))||0;try{const o=new URLSearchParams(location.search).get("id");if(o){const r=(await async function(){const t=["item.json","products.json","/item.json","/products.json"];for(const e of t)try{const t=await fetch(e,{cache:"no-store"});if(!t.ok)continue;const o=await t.json();if(Array.isArray(o))return o}catch(t){}throw new Error("products file not found (tried item.json/products.json)")}()).find((t=>t.id===o));if(r){const o=t(".product-name"),n=t(".product-subtitle"),i=t("#product-price"),a=t(".product-image"),s=t("#detail-desc");o&&(o.textContent=r.title||"",o.dataset.id=r.id),n&&(n.textContent=r.subtitle||""),i&&(i.dataset.base=r.price||0,i.textContent=e(r.price||0),i.setAttribute("aria-live","polite")),a&&(a.tagName&&"img"===a.tagName.toLowerCase()?(a.src=r.images&&r.images[0]||"",a.alt=r.title||""):a.innerHTML=`<img src="${r.images&&r.images[0]||""}" alt="${r.title||""}" />`),s&&(s.innerHTML=r.description||""),"function"==typeof window.initOptionButtons&&window.initOptionButtons(),"function"==typeof window.updatePriceFromUI&&window.updatePriceFromUI()}else console.error("Product not found for id:",o)}else console.error("No product id in URL (use ?id=product-id)")}catch(t){console.error("Error loading product:",t)}!function(){const r=t("#product-price"),n=o(r?.dataset.base||0);let i=n;function a(){let t=n;const a=document.querySelector('.option-group[data-key="milk"] button[aria-pressed="true"]');a&&(t+=o(a.dataset.priceDelta||0)),document.querySelectorAll('.option-group[data-key="addons"] button[aria-pressed="true"]').forEach((e=>t+=o(e.dataset.price||0))),i=t,r&&(r.textContent=e(t))}document.querySelectorAll(".option-group").forEach((t=>{const e=Array.from(t.querySelectorAll("button")),o="addons"===t.dataset.key;e.forEach((t=>{t.addEventListener("click",(()=>{if(o){const e="true"===t.getAttribute("aria-pressed");t.setAttribute("aria-pressed",(!e).toString())}else e.forEach((t=>t.setAttribute("aria-pressed","false"))),t.setAttribute("aria-pressed","true");a()})),t.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),t.click())}))}))})),window.updatePriceFromUI=a,window.initOptionButtons=function(){},setTimeout(a,40)}()}();