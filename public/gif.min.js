// @ts-nocheck
!function(){"use strict";const e=Array.from(document.querySelectorAll(".choice-btn"));e.forEach((t=>{t.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active"),e.setAttribute("aria-pressed","false")})),t.classList.add("active"),t.setAttribute("aria-pressed","true")}))}));const t=Array.from(document.querySelectorAll(".theme-swatch")),c=document.getElementById("theme-preview-img"),i=document.getElementById("theme-preview-wrap"),r=document.querySelector(".gift-form"),a={theme1:"gif/pic11.png",theme2:"gif/pic22.png",theme3:"gif/pic33.png",theme4:"gif/pic44.png",theme5:"gif/pic55.png"};function s(e){if(!e||!c)return;t.forEach((e=>{e.classList.remove("active"),e.setAttribute("aria-pressed","false")})),e.classList.add("active"),e.setAttribute("aria-pressed","true");const s=e.dataset.theme,n=e.querySelector("img");let o=n?n.getAttribute("src"):c.getAttribute("src");if(s&&a[s]&&(o=a[s]),c.src=o,n&&(c.alt=n.alt||"Selected theme"),r&&(r.dataset.selectedTheme=s||""),i&&i.animate)try{i.animate([{opacity:.85},{opacity:1}],{duration:220})}catch(e){}}t.forEach(((e,t)=>{e.querySelector("img")||e.classList.add("empty"),e.addEventListener("click",(()=>s(e))),0!==t||document.querySelector(".theme-swatch.active")||s(e)})),window.getSelectedGiftTheme=()=>document.querySelector(".gift-form")?.dataset.selectedTheme||null;const n=document.getElementById("message"),o=document.getElementById("from"),m=document.getElementById("gift-next");function l(){const e=document.querySelector(".choice-btn.active");return e&&e.dataset.choice||"reveal"}m&&m.addEventListener("click",(function(){!function(){const e={type:"gift",message:n?.value?.trim()||"",fromName:o?.value?.trim()||"",revealMode:l(),theme:r?.dataset.selectedTheme||null};try{localStorage.setItem("giftConfig_v1",JSON.stringify(e))}catch(e){console.warn("Failed to save giftConfig_v1",e)}}()}))}();